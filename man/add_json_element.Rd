% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_json_element.R
\name{add_json_element}
\alias{add_json_element}
\title{Add an element to a structure in a JSON object or file}
\usage{
add_json_element(
  json_input,
  path,
  element_name,
  element_value,
  position = NULL,
  output_file_path = NULL,
  create_path = FALSE
)
}
\arguments{
\item{json_input}{Either a path to a JSON file or an already loaded JSON object (as an R list)}

\item{path}{Path to the target structure using dot notation (e.g., "person" or "person.address")}

\item{element_name}{Name of the element to be added}

\item{element_value}{Value of the element (can be any type: string, number, boolean, list, NULL)}

\item{position}{Optional: Position at which the element should be inserted (1-based).
If NULL or not specified, the element will be added at the end.}

\item{output_file_path}{Optional: Path for the output file. If NULL and json_input is a file path,
the input file will be overwritten. Ignored if json_input is an object.}

\item{create_path}{Optional: If TRUE, missing path components will be created.
If FALSE, an error will be thrown if the path doesn't exist. (Default: FALSE)}
}
\value{
The modified JSON object (as an R list)
}
\description{
This function allows adding a new element to an existing structure in a JSON object
or file, even in deeply nested structures. The path to the target structure can be
specified using dot notation (e.g., "person.address"). The position of the new
element can be optionally specified.
}
\examples{
# Example JSON as a string
json_str <- '{
  "person": {
    "name": "John Doe",
    "age": 30
  }
}'

# Convert to R list
json_data <- jsonlite::fromJSON(json_str, simplifyVector = FALSE)

# Add an email element to the "person" structure
updated_json <- add_json_element(json_data, "person", "email", "john@example.com")

# The result should include the new email element in the person object
jsonlite::toJSON(updated_json, pretty = TRUE, auto_unbox = TRUE)

# Add an element to a nested path that doesn't exist yet
updated_json2 <- add_json_element(json_data, "person.contact.phone", 
                                 "mobile", "+1234567890", 
                                 create_path = TRUE)
}
